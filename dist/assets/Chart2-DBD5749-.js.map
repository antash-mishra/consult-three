{"version":3,"file":"Chart2-DBD5749-.js","sources":["../../node_modules/three/examples/jsm/controls/OrbitControls.js","../../src/script.js"],"sourcesContent":["import {\n\tControls,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3,\n\tPlane,\n\tRay,\n\tMathUtils\n} from 'three';\n\n// OrbitControls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\nconst _ray = new Ray();\nconst _plane = new Plane();\nconst _TILT_LIMIT = Math.cos( 70 * MathUtils.DEG2RAD );\n\nconst _v = new Vector3();\nconst _twoPI = 2 * Math.PI;\n\nconst _STATE = {\n\tNONE: - 1,\n\tROTATE: 0,\n\tDOLLY: 1,\n\tPAN: 2,\n\tTOUCH_ROTATE: 3,\n\tTOUCH_PAN: 4,\n\tTOUCH_DOLLY_PAN: 5,\n\tTOUCH_DOLLY_ROTATE: 6\n};\nconst _EPS = 0.000001;\n\nclass OrbitControls extends Controls {\n\n\tconstructor( object, domElement = null ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.state = _STATE.NONE;\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// Sets the 3D cursor (similar to Blender), from which the maxTargetRadius takes effect\n\t\tthis.cursor = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// Limit camera target within a spherical area around the cursor\n\t\tthis.minTargetRadius = 0;\n\t\tthis.maxTargetRadius = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\t\tthis.zoomToCursor = false;\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t// internals\n\n\t\tthis._lastPosition = new Vector3();\n\t\tthis._lastQuaternion = new Quaternion();\n\t\tthis._lastTargetPosition = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tthis._quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tthis._quatInverse = this._quat.clone().invert();\n\n\t\t// current position in spherical coordinates\n\t\tthis._spherical = new Spherical();\n\t\tthis._sphericalDelta = new Spherical();\n\n\t\tthis._scale = 1;\n\t\tthis._panOffset = new Vector3();\n\n\t\tthis._rotateStart = new Vector2();\n\t\tthis._rotateEnd = new Vector2();\n\t\tthis._rotateDelta = new Vector2();\n\n\t\tthis._panStart = new Vector2();\n\t\tthis._panEnd = new Vector2();\n\t\tthis._panDelta = new Vector2();\n\n\t\tthis._dollyStart = new Vector2();\n\t\tthis._dollyEnd = new Vector2();\n\t\tthis._dollyDelta = new Vector2();\n\n\t\tthis._dollyDirection = new Vector3();\n\t\tthis._mouse = new Vector2();\n\t\tthis._performCursorZoom = false;\n\n\t\tthis._pointers = [];\n\t\tthis._pointerPositions = {};\n\n\t\tthis._controlActive = false;\n\n\t\t// event listeners\n\n\t\tthis._onPointerMove = onPointerMove.bind( this );\n\t\tthis._onPointerDown = onPointerDown.bind( this );\n\t\tthis._onPointerUp = onPointerUp.bind( this );\n\t\tthis._onContextMenu = onContextMenu.bind( this );\n\t\tthis._onMouseWheel = onMouseWheel.bind( this );\n\t\tthis._onKeyDown = onKeyDown.bind( this );\n\n\t\tthis._onTouchStart = onTouchStart.bind( this );\n\t\tthis._onTouchMove = onTouchMove.bind( this );\n\n\t\tthis._onMouseDown = onMouseDown.bind( this );\n\t\tthis._onMouseMove = onMouseMove.bind( this );\n\n\t\tthis._interceptControlDown = interceptControlDown.bind( this );\n\t\tthis._interceptControlUp = interceptControlUp.bind( this );\n\n\t\t//\n\n\t\tif ( this.domElement !== null ) {\n\n\t\t\tthis.connect();\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\tconnect() {\n\n\t\tthis.domElement.addEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.addEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.addEventListener( 'contextmenu', this._onContextMenu );\n\t\tthis.domElement.addEventListener( 'wheel', this._onMouseWheel, { passive: false } );\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.addEventListener( 'keydown', this._interceptControlDown, { passive: true, capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t}\n\n\tdisconnect() {\n\n\t\tthis.domElement.removeEventListener( 'pointerdown', this._onPointerDown );\n\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\t\tthis.domElement.removeEventListener( 'pointercancel', this._onPointerUp );\n\n\t\tthis.domElement.removeEventListener( 'wheel', this._onMouseWheel );\n\t\tthis.domElement.removeEventListener( 'contextmenu', this._onContextMenu );\n\n\t\tthis.stopListenToKeyEvents();\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\t\tdocument.removeEventListener( 'keydown', this._interceptControlDown, { capture: true } );\n\n\t\tthis.domElement.style.touchAction = 'auto';\n\n\t}\n\n\tdispose() {\n\n\t\tthis.disconnect();\n\n\t}\n\n\tgetPolarAngle() {\n\n\t\treturn this._spherical.phi;\n\n\t}\n\n\tgetAzimuthalAngle() {\n\n\t\treturn this._spherical.theta;\n\n\t}\n\n\tgetDistance() {\n\n\t\treturn this.object.position.distanceTo( this.target );\n\n\t}\n\n\tlistenToKeyEvents( domElement ) {\n\n\t\tdomElement.addEventListener( 'keydown', this._onKeyDown );\n\t\tthis._domElementKeyEvents = domElement;\n\n\t}\n\n\tstopListenToKeyEvents() {\n\n\t\tif ( this._domElementKeyEvents !== null ) {\n\n\t\t\tthis._domElementKeyEvents.removeEventListener( 'keydown', this._onKeyDown );\n\t\t\tthis._domElementKeyEvents = null;\n\n\t\t}\n\n\t}\n\n\tsaveState() {\n\n\t\tthis.target0.copy( this.target );\n\t\tthis.position0.copy( this.object.position );\n\t\tthis.zoom0 = this.object.zoom;\n\n\t}\n\n\treset() {\n\n\t\tthis.target.copy( this.target0 );\n\t\tthis.object.position.copy( this.position0 );\n\t\tthis.object.zoom = this.zoom0;\n\n\t\tthis.object.updateProjectionMatrix();\n\t\tthis.dispatchEvent( _changeEvent );\n\n\t\tthis.update();\n\n\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tupdate( deltaTime = null ) {\n\n\t\tconst position = this.object.position;\n\n\t\t_v.copy( position ).sub( this.target );\n\n\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t_v.applyQuaternion( this._quat );\n\n\t\t// angle from z-axis around y-axis\n\t\tthis._spherical.setFromVector3( _v );\n\n\t\tif ( this.autoRotate && this.state === _STATE.NONE ) {\n\n\t\t\tthis._rotateLeft( this._getAutoRotationAngle( deltaTime ) );\n\n\t\t}\n\n\t\tif ( this.enableDamping ) {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta * this.dampingFactor;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi * this.dampingFactor;\n\n\t\t} else {\n\n\t\t\tthis._spherical.theta += this._sphericalDelta.theta;\n\t\t\tthis._spherical.phi += this._sphericalDelta.phi;\n\n\t\t}\n\n\t\t// restrict theta to be between desired limits\n\n\t\tlet min = this.minAzimuthAngle;\n\t\tlet max = this.maxAzimuthAngle;\n\n\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\tif ( min < - Math.PI ) min += _twoPI; else if ( min > Math.PI ) min -= _twoPI;\n\n\t\t\tif ( max < - Math.PI ) max += _twoPI; else if ( max > Math.PI ) max -= _twoPI;\n\n\t\t\tif ( min <= max ) {\n\n\t\t\t\tthis._spherical.theta = Math.max( min, Math.min( max, this._spherical.theta ) );\n\n\t\t\t} else {\n\n\t\t\t\tthis._spherical.theta = ( this._spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\tMath.max( min, this._spherical.theta ) :\n\t\t\t\t\tMath.min( max, this._spherical.theta );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restrict phi to be between desired limits\n\t\tthis._spherical.phi = Math.max( this.minPolarAngle, Math.min( this.maxPolarAngle, this._spherical.phi ) );\n\n\t\tthis._spherical.makeSafe();\n\n\n\t\t// move target to panned location\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis.target.addScaledVector( this._panOffset, this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis.target.add( this._panOffset );\n\n\t\t}\n\n\t\t// Limit the target distance from the cursor to create a sphere around the center of interest\n\t\tthis.target.sub( this.cursor );\n\t\tthis.target.clampLength( this.minTargetRadius, this.maxTargetRadius );\n\t\tthis.target.add( this.cursor );\n\n\t\tlet zoomChanged = false;\n\t\t// adjust the camera position based on zoom only if we're not zooming to the cursor or if it's an ortho camera\n\t\t// we adjust zoom later in these cases\n\t\tif ( this.zoomToCursor && this._performCursorZoom || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius );\n\n\t\t} else {\n\n\t\t\tconst prevRadius = this._spherical.radius;\n\t\t\tthis._spherical.radius = this._clampDistance( this._spherical.radius * this._scale );\n\t\t\tzoomChanged = prevRadius != this._spherical.radius;\n\n\t\t}\n\n\t\t_v.setFromSpherical( this._spherical );\n\n\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t_v.applyQuaternion( this._quatInverse );\n\n\t\tposition.copy( this.target ).add( _v );\n\n\t\tthis.object.lookAt( this.target );\n\n\t\tif ( this.enableDamping === true ) {\n\n\t\t\tthis._sphericalDelta.theta *= ( 1 - this.dampingFactor );\n\t\t\tthis._sphericalDelta.phi *= ( 1 - this.dampingFactor );\n\n\t\t\tthis._panOffset.multiplyScalar( 1 - this.dampingFactor );\n\n\t\t} else {\n\n\t\t\tthis._sphericalDelta.set( 0, 0, 0 );\n\n\t\t\tthis._panOffset.set( 0, 0, 0 );\n\n\t\t}\n\n\t\t// adjust camera position\n\t\tif ( this.zoomToCursor && this._performCursorZoom ) {\n\n\t\t\tlet newRadius = null;\n\t\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t\t// move the camera down the pointer ray\n\t\t\t\t// this method avoids floating point error\n\t\t\t\tconst prevRadius = _v.length();\n\t\t\t\tnewRadius = this._clampDistance( prevRadius * this._scale );\n\n\t\t\t\tconst radiusDelta = prevRadius - newRadius;\n\t\t\t\tthis.object.position.addScaledVector( this._dollyDirection, radiusDelta );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tzoomChanged = !! radiusDelta;\n\n\t\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t\t// adjust the ortho camera position based on zoom changes\n\t\t\t\tconst mouseBefore = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseBefore.unproject( this.object );\n\n\t\t\t\tconst prevZoom = this.object.zoom;\n\t\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\t\t\t\tthis.object.updateProjectionMatrix();\n\n\t\t\t\tzoomChanged = prevZoom !== this.object.zoom;\n\n\t\t\t\tconst mouseAfter = new Vector3( this._mouse.x, this._mouse.y, 0 );\n\t\t\t\tmouseAfter.unproject( this.object );\n\n\t\t\t\tthis.object.position.sub( mouseAfter ).add( mouseBefore );\n\t\t\t\tthis.object.updateMatrixWorld();\n\n\t\t\t\tnewRadius = _v.length();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.' );\n\t\t\t\tthis.zoomToCursor = false;\n\n\t\t\t}\n\n\t\t\t// handle the placement of the target\n\t\t\tif ( newRadius !== null ) {\n\n\t\t\t\tif ( this.screenSpacePanning ) {\n\n\t\t\t\t\t// position the orbit target in front of the new camera position\n\t\t\t\t\tthis.target.set( 0, 0, - 1 )\n\t\t\t\t\t\t.transformDirection( this.object.matrix )\n\t\t\t\t\t\t.multiplyScalar( newRadius )\n\t\t\t\t\t\t.add( this.object.position );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// get the ray and translation plane to compute target\n\t\t\t\t\t_ray.origin.copy( this.object.position );\n\t\t\t\t\t_ray.direction.set( 0, 0, - 1 ).transformDirection( this.object.matrix );\n\n\t\t\t\t\t// if the camera is 20 degrees above the horizon then don't adjust the focus target to avoid\n\t\t\t\t\t// extremely large values\n\t\t\t\t\tif ( Math.abs( this.object.up.dot( _ray.direction ) ) < _TILT_LIMIT ) {\n\n\t\t\t\t\t\tthis.object.lookAt( this.target );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_plane.setFromNormalAndCoplanarPoint( this.object.up, this.target );\n\t\t\t\t\t\t_ray.intersectPlane( _plane, this.target );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\tconst prevZoom = this.object.zoom;\n\t\t\tthis.object.zoom = Math.max( this.minZoom, Math.min( this.maxZoom, this.object.zoom / this._scale ) );\n\n\t\t\tif ( prevZoom !== this.object.zoom ) {\n\n\t\t\t\tthis.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._scale = 1;\n\t\tthis._performCursorZoom = false;\n\n\t\t// update condition is:\n\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\tif ( zoomChanged ||\n\t\t\tthis._lastPosition.distanceToSquared( this.object.position ) > _EPS ||\n\t\t\t8 * ( 1 - this._lastQuaternion.dot( this.object.quaternion ) ) > _EPS ||\n\t\t\tthis._lastTargetPosition.distanceToSquared( this.target ) > _EPS ) {\n\n\t\t\tthis.dispatchEvent( _changeEvent );\n\n\t\t\tthis._lastPosition.copy( this.object.position );\n\t\t\tthis._lastQuaternion.copy( this.object.quaternion );\n\t\t\tthis._lastTargetPosition.copy( this.target );\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_getAutoRotationAngle( deltaTime ) {\n\n\t\tif ( deltaTime !== null ) {\n\n\t\t\treturn ( _twoPI / 60 * this.autoRotateSpeed ) * deltaTime;\n\n\t\t} else {\n\n\t\t\treturn _twoPI / 60 / 60 * this.autoRotateSpeed;\n\n\t\t}\n\n\t}\n\n\t_getZoomScale( delta ) {\n\n\t\tconst normalizedDelta = Math.abs( delta * 0.01 );\n\t\treturn Math.pow( 0.95, this.zoomSpeed * normalizedDelta );\n\n\t}\n\n\t_rotateLeft( angle ) {\n\n\t\tthis._sphericalDelta.theta -= angle;\n\n\t}\n\n\t_rotateUp( angle ) {\n\n\t\tthis._sphericalDelta.phi -= angle;\n\n\t}\n\n\t_panLeft( distance, objectMatrix ) {\n\n\t\t_v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t_v.multiplyScalar( - distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t_panUp( distance, objectMatrix ) {\n\n\t\tif ( this.screenSpacePanning === true ) {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t} else {\n\n\t\t\t_v.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t_v.crossVectors( this.object.up, _v );\n\n\t\t}\n\n\t\t_v.multiplyScalar( distance );\n\n\t\tthis._panOffset.add( _v );\n\n\t}\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\t_pan( deltaX, deltaY ) {\n\n\t\tconst element = this.domElement;\n\n\t\tif ( this.object.isPerspectiveCamera ) {\n\n\t\t\t// perspective\n\t\t\tconst position = this.object.position;\n\t\t\t_v.copy( position ).sub( this.target );\n\t\t\tlet targetDistance = _v.length();\n\n\t\t\t// half of the fov is center to top of screen\n\t\t\ttargetDistance *= Math.tan( ( this.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\tthis._panLeft( 2 * deltaX * targetDistance / element.clientHeight, this.object.matrix );\n\t\t\tthis._panUp( 2 * deltaY * targetDistance / element.clientHeight, this.object.matrix );\n\n\t\t} else if ( this.object.isOrthographicCamera ) {\n\n\t\t\t// orthographic\n\t\t\tthis._panLeft( deltaX * ( this.object.right - this.object.left ) / this.object.zoom / element.clientWidth, this.object.matrix );\n\t\t\tthis._panUp( deltaY * ( this.object.top - this.object.bottom ) / this.object.zoom / element.clientHeight, this.object.matrix );\n\n\t\t} else {\n\n\t\t\t// camera neither orthographic nor perspective\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\tthis.enablePan = false;\n\n\t\t}\n\n\t}\n\n\t_dollyOut( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale /= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_dollyIn( dollyScale ) {\n\n\t\tif ( this.object.isPerspectiveCamera || this.object.isOrthographicCamera ) {\n\n\t\t\tthis._scale *= dollyScale;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tthis.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t_updateZoomParameters( x, y ) {\n\n\t\tif ( ! this.zoomToCursor ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._performCursorZoom = true;\n\n\t\tconst rect = this.domElement.getBoundingClientRect();\n\t\tconst dx = x - rect.left;\n\t\tconst dy = y - rect.top;\n\t\tconst w = rect.width;\n\t\tconst h = rect.height;\n\n\t\tthis._mouse.x = ( dx / w ) * 2 - 1;\n\t\tthis._mouse.y = - ( dy / h ) * 2 + 1;\n\n\t\tthis._dollyDirection.set( this._mouse.x, this._mouse.y, 1 ).unproject( this.object ).sub( this.object.position ).normalize();\n\n\t}\n\n\t_clampDistance( dist ) {\n\n\t\treturn Math.max( this.minDistance, Math.min( this.maxDistance, dist ) );\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\t_handleMouseDownRotate( event ) {\n\n\t\tthis._rotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownDolly( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientX );\n\t\tthis._dollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseDownPan( event ) {\n\n\t\tthis._panStart.set( event.clientX, event.clientY );\n\n\t}\n\n\t_handleMouseMoveRotate( event ) {\n\n\t\tthis._rotateEnd.set( event.clientX, event.clientY );\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMoveDolly( event ) {\n\n\t\tthis._dollyEnd.set( event.clientX, event.clientY );\n\n\t\tthis._dollyDelta.subVectors( this._dollyEnd, this._dollyStart );\n\n\t\tif ( this._dollyDelta.y > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t} else if ( this._dollyDelta.y < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( this._dollyDelta.y ) );\n\n\t\t}\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseMovePan( event ) {\n\n\t\tthis._panEnd.set( event.clientX, event.clientY );\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t\tthis.update();\n\n\t}\n\n\t_handleMouseWheel( event ) {\n\n\t\tthis._updateZoomParameters( event.clientX, event.clientY );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tthis._dollyIn( this._getZoomScale( event.deltaY ) );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tthis._dollyOut( this._getZoomScale( event.deltaY ) );\n\n\t\t}\n\n\t\tthis.update();\n\n\t}\n\n\t_handleKeyDown( event ) {\n\n\t\tlet needsUpdate = false;\n\n\t\tswitch ( event.code ) {\n\n\t\t\tcase this.keys.UP:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( _twoPI * this.rotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.BOTTOM:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateUp( - _twoPI * this.rotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( 0, - this.keyPanSpeed );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.LEFT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( _twoPI * this.rotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase this.keys.RIGHT:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( this.enableRotate ) {\n\n\t\t\t\t\t\tthis._rotateLeft( - _twoPI * this.rotateSpeed / this.domElement.clientHeight );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( this.enablePan ) {\n\n\t\t\t\t\t\tthis._pan( - this.keyPanSpeed, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tthis.update();\n\n\t\t}\n\n\n\t}\n\n\t_handleTouchStartRotate( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._rotateStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartPan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panStart.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\t_handleTouchStartDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyStart.set( 0, distance );\n\n\t}\n\n\t_handleTouchStartDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchStartPan( event );\n\n\t}\n\n\t_handleTouchStartDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchStartDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchStartRotate( event );\n\n\t}\n\n\t_handleTouchMoveRotate( event ) {\n\n\t\tif ( this._pointers.length == 1 ) {\n\n\t\t\tthis._rotateEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._rotateEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._rotateDelta.subVectors( this._rotateEnd, this._rotateStart ).multiplyScalar( this.rotateSpeed );\n\n\t\tconst element = this.domElement;\n\n\t\tthis._rotateLeft( _twoPI * this._rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\tthis._rotateUp( _twoPI * this._rotateDelta.y / element.clientHeight );\n\n\t\tthis._rotateStart.copy( this._rotateEnd );\n\n\t}\n\n\t_handleTouchMovePan( event ) {\n\n\t\tif ( this._pointers.length === 1 ) {\n\n\t\t\tthis._panEnd.set( event.pageX, event.pageY );\n\n\t\t} else {\n\n\t\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\tthis._panEnd.set( x, y );\n\n\t\t}\n\n\t\tthis._panDelta.subVectors( this._panEnd, this._panStart ).multiplyScalar( this.panSpeed );\n\n\t\tthis._pan( this._panDelta.x, this._panDelta.y );\n\n\t\tthis._panStart.copy( this._panEnd );\n\n\t}\n\n\t_handleTouchMoveDolly( event ) {\n\n\t\tconst position = this._getSecondPointerPosition( event );\n\n\t\tconst dx = event.pageX - position.x;\n\t\tconst dy = event.pageY - position.y;\n\n\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tthis._dollyEnd.set( 0, distance );\n\n\t\tthis._dollyDelta.set( 0, Math.pow( this._dollyEnd.y / this._dollyStart.y, this.zoomSpeed ) );\n\n\t\tthis._dollyOut( this._dollyDelta.y );\n\n\t\tthis._dollyStart.copy( this._dollyEnd );\n\n\t\tconst centerX = ( event.pageX + position.x ) * 0.5;\n\t\tconst centerY = ( event.pageY + position.y ) * 0.5;\n\n\t\tthis._updateZoomParameters( centerX, centerY );\n\n\t}\n\n\t_handleTouchMoveDollyPan( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enablePan ) this._handleTouchMovePan( event );\n\n\t}\n\n\t_handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( this.enableZoom ) this._handleTouchMoveDolly( event );\n\n\t\tif ( this.enableRotate ) this._handleTouchMoveRotate( event );\n\n\t}\n\n\t// pointers\n\n\t_addPointer( event ) {\n\n\t\tthis._pointers.push( event.pointerId );\n\n\t}\n\n\t_removePointer( event ) {\n\n\t\tdelete this._pointerPositions[ event.pointerId ];\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) {\n\n\t\t\t\tthis._pointers.splice( i, 1 );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_isTrackingPointer( event ) {\n\n\t\tfor ( let i = 0; i < this._pointers.length; i ++ ) {\n\n\t\t\tif ( this._pointers[ i ] == event.pointerId ) return true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\t_trackPointer( event ) {\n\n\t\tlet position = this._pointerPositions[ event.pointerId ];\n\n\t\tif ( position === undefined ) {\n\n\t\t\tposition = new Vector2();\n\t\t\tthis._pointerPositions[ event.pointerId ] = position;\n\n\t\t}\n\n\t\tposition.set( event.pageX, event.pageY );\n\n\t}\n\n\t_getSecondPointerPosition( event ) {\n\n\t\tconst pointerId = ( event.pointerId === this._pointers[ 0 ] ) ? this._pointers[ 1 ] : this._pointers[ 0 ];\n\n\t\treturn this._pointerPositions[ pointerId ];\n\n\t}\n\n\t//\n\n\t_customWheelEvent( event ) {\n\n\t\tconst mode = event.deltaMode;\n\n\t\t// minimal wheel event altered to meet delta-zoom demand\n\t\tconst newEvent = {\n\t\t\tclientX: event.clientX,\n\t\t\tclientY: event.clientY,\n\t\t\tdeltaY: event.deltaY,\n\t\t};\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 1: // LINE_MODE\n\t\t\t\tnewEvent.deltaY *= 16;\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // PAGE_MODE\n\t\t\t\tnewEvent.deltaY *= 100;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t// detect if event was triggered by pinching\n\t\tif ( event.ctrlKey && ! this._controlActive ) {\n\n\t\t\tnewEvent.deltaY *= 10;\n\n\t\t}\n\n\t\treturn newEvent;\n\n\t}\n\n}\n\nfunction onPointerDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( this._pointers.length === 0 ) {\n\n\t\tthis.domElement.setPointerCapture( event.pointerId );\n\n\t\tthis.domElement.addEventListener( 'pointermove', this._onPointerMove );\n\t\tthis.domElement.addEventListener( 'pointerup', this._onPointerUp );\n\n\t}\n\n\t//\n\n\tif ( this._isTrackingPointer( event ) ) return;\n\n\t//\n\n\tthis._addPointer( event );\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchStart( event );\n\n\t} else {\n\n\t\tthis._onMouseDown( event );\n\n\t}\n\n}\n\nfunction onPointerMove( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tif ( event.pointerType === 'touch' ) {\n\n\t\tthis._onTouchMove( event );\n\n\t} else {\n\n\t\tthis._onMouseMove( event );\n\n\t}\n\n}\n\nfunction onPointerUp( event ) {\n\n\tthis._removePointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 0:\n\n\t\t\tthis.domElement.releasePointerCapture( event.pointerId );\n\n\t\t\tthis.domElement.removeEventListener( 'pointermove', this._onPointerMove );\n\t\t\tthis.domElement.removeEventListener( 'pointerup', this._onPointerUp );\n\n\t\t\tthis.dispatchEvent( _endEvent );\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tconst pointerId = this._pointers[ 0 ];\n\t\t\tconst position = this._pointerPositions[ pointerId ];\n\n\t\t\t// minimal placeholder event - allows state correction on pointer-up\n\t\t\tthis._onTouchStart( { pointerId: pointerId, pageX: position.x, pageY: position.y } );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseDown( event ) {\n\n\tlet mouseAction;\n\n\tswitch ( event.button ) {\n\n\t\tcase 0:\n\n\t\t\tmouseAction = this.mouseButtons.LEFT;\n\t\t\tbreak;\n\n\t\tcase 1:\n\n\t\t\tmouseAction = this.mouseButtons.MIDDLE;\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tmouseAction = this.mouseButtons.RIGHT;\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tmouseAction = - 1;\n\n\t}\n\n\tswitch ( mouseAction ) {\n\n\t\tcase MOUSE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseDownDolly( event );\n\n\t\t\tthis.state = _STATE.DOLLY;\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.ROTATE:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase MOUSE.PAN:\n\n\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\tthis._handleMouseDownRotate( event );\n\n\t\t\t\tthis.state = _STATE.ROTATE;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\tthis._handleMouseDownPan( event );\n\n\t\t\t\tthis.state = _STATE.PAN;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onMouseMove( event ) {\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleMouseMoveRotate( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.DOLLY:\n\n\t\t\tif ( this.enableZoom === false ) return;\n\n\t\t\tthis._handleMouseMoveDolly( event );\n\n\t\t\tbreak;\n\n\t\tcase _STATE.PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleMouseMovePan( event );\n\n\t\t\tbreak;\n\n\t}\n\n}\n\nfunction onMouseWheel( event ) {\n\n\tif ( this.enabled === false || this.enableZoom === false || this.state !== _STATE.NONE ) return;\n\n\tevent.preventDefault();\n\n\tthis.dispatchEvent( _startEvent );\n\n\tthis._handleMouseWheel( this._customWheelEvent( event ) );\n\n\tthis.dispatchEvent( _endEvent );\n\n}\n\nfunction onKeyDown( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tthis._handleKeyDown( event );\n\n}\n\nfunction onTouchStart( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this._pointers.length ) {\n\n\t\tcase 1:\n\n\t\t\tswitch ( this.touches.ONE ) {\n\n\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase 2:\n\n\t\t\tswitch ( this.touches.TWO ) {\n\n\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyPan( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\t\t\tthis._handleTouchStartDollyRotate( event );\n\n\t\t\t\t\tthis.state = _STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tthis.state = _STATE.NONE;\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n\tif ( this.state !== _STATE.NONE ) {\n\n\t\tthis.dispatchEvent( _startEvent );\n\n\t}\n\n}\n\nfunction onTouchMove( event ) {\n\n\tthis._trackPointer( event );\n\n\tswitch ( this.state ) {\n\n\t\tcase _STATE.TOUCH_ROTATE:\n\n\t\t\tif ( this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_PAN:\n\n\t\t\tif ( this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMovePan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_PAN:\n\n\t\t\tif ( this.enableZoom === false && this.enablePan === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyPan( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tcase _STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\tif ( this.enableZoom === false && this.enableRotate === false ) return;\n\n\t\t\tthis._handleTouchMoveDollyRotate( event );\n\n\t\t\tthis.update();\n\n\t\t\tbreak;\n\n\t\tdefault:\n\n\t\t\tthis.state = _STATE.NONE;\n\n\t}\n\n}\n\nfunction onContextMenu( event ) {\n\n\tif ( this.enabled === false ) return;\n\n\tevent.preventDefault();\n\n}\n\nfunction interceptControlDown( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = true;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.addEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nfunction interceptControlUp( event ) {\n\n\tif ( event.key === 'Control' ) {\n\n\t\tthis._controlActive = false;\n\n\t\tconst document = this.domElement.getRootNode(); // offscreen canvas compatibility\n\n\t\tdocument.removeEventListener( 'keyup', this._interceptControlUp, { passive: true, capture: true } );\n\n\t}\n\n}\n\nexport { OrbitControls };\n","import './style.css'\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/addons/controls/OrbitControls.js'\nimport gsap  from 'gsap'\nimport * as dat from 'dat.gui';\nimport { FontLoader } from 'three/examples/jsm/loaders/FontLoader.js';\nimport { TextGeometry } from 'three/examples/jsm/geometries/TextGeometry.js';\nimport {GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader.js'\nimport {DRACOLoader} from 'three/examples/jsm/loaders/DRACOLoader.js'\n\n\n\n// Debug\n\nconst debugObject = {}\nconst gltfLoader = new GLTFLoader()\n\nconst canvas = document.querySelector('canvas.webgl')\n\nconst sizes = {\n    width: window.innerWidth,\n    height: window.innerHeight\n}\n\nconst raycaster = new THREE.Raycaster();\nconst mouse = new THREE.Vector2();\n\n\nconst cursor = {\n    x: 0,\n    y: 0\n}\n\nwindow.addEventListener('mousemove', (event) => {\n    \n    cursor.x = event.clientX / sizes.width - 0.5\n    cursor.y = -(event.clientY / sizes.height - 0.5)\n\n    \n    console.log(cursor.x, cursor.y)\n    console.log(event.clientX, event.clientY)\n})\n\nwindow.addEventListener('resize', () => {\n    sizes.width = window.innerWidth\n    sizes.height = window.innerHeight\n\n    camera.aspect  = sizes.width/sizes.height\n    camera.updateProjectionMatrix()\n\n    renderer.setSize(sizes.width, sizes.height)\n    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2))\n\n})\n\n\nconst scene = new THREE.Scene()\n  \n\nfunction loadGLBModel(url, position, scale) {\n    const loader = new GLTFLoader();\n\n    loader.load(url, function (gltf) {\n        const model = gltf.scene;\n        console.log(model)\n        // Position and scale the model\n        model.position.set(position.x, position.y, position.z);\n        model.scale.set(scale, scale, scale);\n\n        // Traverse the model and apply materials without overriding\n        model.traverse(function (child) {\n            if (child.isMesh) {\n                // Ensure the model's materials are correctly applied\n                child.material = child.material || new THREE.MeshBasicMaterial();\n            }\n\n        });\n        // Add the model to the scene\n        scene.add(model);\n        \n        window.addEventListener('click', onMouseClick, false);\n        function onMouseClick(event) {\n          // Normalize mouse coordinates to range [-1, 1]\n          mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n          mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n            \n          // Update the raycaster with the mouse coordinates\n          raycaster.setFromCamera(mouse, camera);\n            \n          // Check for intersections with the icons\n          const intersects = raycaster.intersectObjects(plane.children);\n        \n          if (intersects.length > 0) {\n            const clickedObject = intersects[0].object;\n        \n            // Handle actions based on the clicked icon\n            if (clickedObject === minimizePlane) {\n              console.log('Minimize clicked');\n              // Implement minimize logic (e.g., hide or reduce size of plane)\n              model.scale.set(0, 0, 0);\n\n            } else if (clickedObject === maximizePlane) {\n              console.log('Maximize clicked');\n              // Implement maximize logic (e.g., restore plane to original size)\n              model.scale.set(5, 5, 5);\n            } else if (clickedObject === closePlane) {\n              console.log('Close clicked');\n              // Implement close logic (e.g., remove the plane from the scene)\n              scene.remove(model);\n            }\n          }\n        }\n        \n    }, undefined, function (error) {\n        console.error('An error happened while loading the GLB model:', error);\n    });\n}\n\n\n// Function to add text in the center\nfunction addCenterText(text, color, position) {\n    const loader = new FontLoader();\n\n    // Load a font\n    loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json', function (font) {\n        const textGeometry = new TextGeometry(text, {\n            font: font,\n            size: 1.5, // Font size\n            height: 0.1, // Font thickness\n            curveSegments: 12,\n            bevelEnabled: false,\n        });\n\n        const textMaterial = new THREE.MeshStandardMaterial({ color: color });\n        const textMesh = new THREE.Mesh(textGeometry, textMaterial);\n\n        // Position the text at the center of the pie chart\n        textMesh.position.set(position.x, position.y, position.z);\n        textMesh.rotation.x = Math.PI * 2; // Align flat to face camera\n        textMesh.rotation.y = Math.PI * 0.25;\n\n        window.addEventListener('click', onMouseClick, false);\n        function onMouseClick(event) {\n          // Normalize mouse coordinates to range [-1, 1]\n          mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n          mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n            \n          // Update the raycaster with the mouse coordinates\n          raycaster.setFromCamera(mouse, camera);\n            \n          // Check for intersections with the icons\n          const intersects = raycaster.intersectObjects(plane.children);\n        \n          if (intersects.length > 0) {\n            const clickedObject = intersects[0].object;\n            console.log(\"Intersects: \", intersects[0].object)\n        \n            // Handle actions based on the clicked icon\n            if (clickedObject === minimizePlane) {\n              console.log('Minimize clicked');\n              // Implement minimize logic (e.g., hide or reduce size of plane)\n              textMesh.scale.set(0, 0, 0);\n\n            } else if (clickedObject === maximizePlane) {\n              console.log('Maximize clicked');\n              // Implement maximize logic (e.g., restore plane to original size)\n              textMesh.scale.set(1, 1, 1);\n            } else if (clickedObject === closePlane) {\n              console.log('Close clicked');\n              // Implement close logic (e.g., remove the plane from the scene)\n              scene.remove(textMesh);\n            }\n          }\n        }\n\n        scene.add(textMesh);\n    });\n}\n\n\n\nfunction createCurve(controlPoints, color, scene) {\n    // Create the curve using the provided control points\n    const curve = new THREE.CubicBezierCurve3(\n        new THREE.Vector3(...controlPoints[0]),\n        new THREE.Vector3(...controlPoints[1]),\n        new THREE.Vector3(...controlPoints[2]),\n        new THREE.Vector3(...controlPoints[3])\n    );\n\n    // Generate points along the curve\n    const points = curve.getPoints(50);\n    const geometry = new THREE.BufferGeometry().setFromPoints(points);\n\n    // Create the material for the curve\n    const material = new THREE.LineBasicMaterial({ color });\n\n    // Create the final curve object and add it to the scene\n    const curveObject = new THREE.Line(geometry, material);\n    scene.add(curveObject);\n\n    // Add a point (sphere) at the start of the curve\n    const startPointGeometry = new THREE.SphereGeometry(0.08, 16, 16); // Small sphere\n    const startPointMaterial = new THREE.MeshBasicMaterial({ color: color });\n    const startPoint = new THREE.Mesh(startPointGeometry, startPointMaterial);\n    \n    // Set the position of the sphere relative to the curve\n    const startPosition = curve.getPoint(0); // Point at t = 0\n    startPoint.position.copy(startPosition);\n    \n    // Make the start point a child of the curve object\n    curveObject.add(startPoint);\n\n    window.addEventListener('click', onMouseClick, false);\n    function onMouseClick(event) {\n        // Normalize mouse coordinates to range [-1, 1]\n        mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n          \n        // Update the raycaster with the mouse coordinates\n        raycaster.setFromCamera(mouse, camera);\n          \n        // Check for intersections with the icons\n        const intersects = raycaster.intersectObjects(plane.children);\n      \n        if (intersects.length > 0) {\n          const clickedObject = intersects[0].object;\n      \n          // Handle actions based on the clicked icon\n          if (clickedObject === minimizePlane) {\n            console.log('Minimize clicked');\n            // Implement minimize logic (e.g., hide or reduce size of plane)\n            curveObject.scale.set(0, 0, 0);\n\n          } else if (clickedObject === maximizePlane) {\n            console.log('Maximize clicked');\n            // Implement maximize logic (e.g., restore plane to original size)\n            curveObject.scale.set(1, 1, 1);\n          } else if (clickedObject === closePlane) {\n            console.log('Close clicked');\n            // Implement close logic (e.g., remove the plane from the scene)\n            scene.remove(curveObject);\n          }\n        }\n      }\n\n    return curveObject; // Return the created curve object for further use\n}\n\n// Purple curve\ncreateCurve(\n    [\n        [10, -5, 0],\n        [10, -6, 0],\n        [10, -6.5, -0.5],\n        [18, -3, -0.5],\n    ],\n    '#7c05b4',\n    scene\n);\n\n// Grey curve\ncreateCurve(\n    [\n        [-15, 2.8, 2.5],\n        [-15, 4.5, 2.5],\n        [-15, 5.5, 5],\n        [-17, 4.8, 8],\n    ],\n    '#54c0b7',\n    scene\n);\n\nconst outerCurveUpper = createCurve(\n    [\n        [0, 6.75, 11],\n        [0, 6.75, 13],\n        [0, 6.70, 13],\n        [0, 0.5, 13],\n    ],\n    '#4AA19D',\n    scene\n);\n\nconst outerCurveLower =createCurve(\n    [\n        [0, -1., 11],\n        [0, -1., 13],\n        [0, -0.5, 13],\n        [0, 1.5, 13],\n    ],\n    '#4AA19D',\n    scene\n);\n\nconst outerCurveUpperChild = createCurve(\n    [\n        [0, 1.5, 10],\n        [0, 1.5, 10.75],\n        [0, 1.0, 10.75],\n        [0, -1.0, 10.75],\n    ],\n    '#4AA19D',\n    scene\n);\n\nconst outerCurveLowerChild = createCurve(\n    [\n        [0, -3.0, 10],\n        [0, -3.0, 10.75],\n        [0, -2.5, 10.75],\n        [0, -1.0, 10.75],\n    ],\n    '#4AA19D',\n    scene\n);\n\nconst outerCurveUpperRight = createCurve(\n    [\n        [0, 7.6, -13.8],\n        [0, 7.6, -16.8],\n        [0, 7.55, -16.8],\n        [0, 0.5, -16.8],\n    ],\n    '#4AA19D',\n    scene\n);\n\nconst outerCurveLowerRight =createCurve(\n    [\n        [0, -2.5, -14.4],\n        [0, -2.8, -16.8],\n        [0, -2.0, -16.8],\n        [0, 1.4, -16.8],\n    ],\n    '#4AA19D',\n    scene\n);\n\ncreateCurve(\n    [\n        [0, 1.5, -12.2],\n        [0, 1.5, -13.8],\n        [0, 1.0, -13.8],\n        [0, -1.0, -13.8],\n    ],\n    '#4AA19D',\n    scene\n);\n\ncreateCurve(\n    [\n        [0, -5.2, -12.2],\n        [0, -5.5, -13.8],\n        [0, -5.0, -13.8],\n        [0, 0.0, -13.8],\n    ],\n    '#4AA19D',\n    scene\n);\n\nfunction createRoundedRectangleWithText({\n    width,\n    height,\n    radius,\n    color,\n    text,\n    textColor,\n    textSize,\n    textPosition = { x: 0, y: 0, z: 0 },\n    depth = 0.1,\n    position = { x: 0, y: 0, z: 0 },\n    rotation = { x: 0, y: 0, z: 0 },\n}) {\n    // Step 1: Create the rounded rectangle shape\n    const shape = new THREE.Shape();\n    shape.moveTo(-width / 2 + radius, height / 2);\n    shape.lineTo(width / 2 - radius, height / 2); // Top edge\n    shape.quadraticCurveTo(width / 2, height / 2, width / 2, height / 2 - radius); // Top-right corner\n    shape.lineTo(width / 2, -height / 2 + radius); // Right edge\n    shape.quadraticCurveTo(width / 2, -height / 2, width / 2 - radius, -height / 2); // Bottom-right corner\n    shape.lineTo(-width / 2 + radius, -height / 2); // Bottom edge\n    shape.quadraticCurveTo(-width / 2, -height / 2, -width / 2, -height / 2 + radius); // Bottom-left corner\n    shape.lineTo(-width / 2, height / 2 - radius); // Left edge\n    shape.quadraticCurveTo(-width / 2, height / 2, -width / 2 + radius, height / 2); // Top-left corner\n\n    // Step 2: Extrude the shape to make it 3D\n    const geometry = new THREE.ExtrudeGeometry(shape, {\n        depth: depth,\n        bevelEnabled: false,\n    });\n    const material = new THREE.MeshPhongMaterial({ color, side: THREE.DoubleSide });\n    const roundedRectangle = new THREE.Mesh(geometry, material);\n\n    // Set position and rotation of the rectangle\n    roundedRectangle.position.set(position.x, position.y, position.z);\n    roundedRectangle.rotation.set(rotation.x, rotation.y, rotation.z);\n\n    // Step 3: Load a font and create text geometry\n    const fontLoader = new FontLoader();\n    fontLoader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json', (font) => {\n        const textGeometry = new TextGeometry(text, {\n            font: font,\n            size: textSize,\n            height: 0.01, // Thin text\n        });\n        const textMaterial = new THREE.MeshBasicMaterial({ color: textColor });\n        const textMesh = new THREE.Mesh(textGeometry, textMaterial);\n\n        // Position the text\n        textMesh.position.set(textPosition.x, textPosition.y, textPosition.z);\n        roundedRectangle.add(textMesh); // Attach text to the rectangle\n    });\n    \n    scene.add(roundedRectangle);\n\n    window.addEventListener('click', onMouseClick, false);\n    \n    function onMouseClick(event) {\n        // Normalize mouse coordinates to range [-1, 1]\n        mouse.x = (event.clientX / window.innerWidth) * 2 - 1;\n        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;\n          \n        // Update the raycaster with the mouse coordinates\n        raycaster.setFromCamera(mouse, camera);\n          \n        // Check for intersections with the icons\n        const intersects = raycaster.intersectObjects(plane.children);\n        \n        if (intersects.length > 0) {\n            document.body.style.cursor = 'pointer'; // Change to pointer\n          } else {\n            document.body.style.cursor = 'default'; // Revert to default\n          }\n\n        if (intersects.length > 0) {\n          const clickedObject = intersects[0].object;        \n          // Handle actions based on the clicked icon\n          if (clickedObject === minimizePlane) {\n            console.log('Minimize clicked');\n            // Implement minimize logic (e.g., hide or reduce size of plane)\n            \n            roundedRectangle.scale.set(0,0,0)\n\n          } else if (clickedObject === maximizePlane) {\n            console.log('Maximize clicked');\n\n            roundedRectangle.scale.set(1,1,1)    \n            \n        } else if (clickedObject === closePlane) {\n            console.log('Close clicked');\n            // Implement close logic (e.g., remove the plane from the scene)\n            scene.remove(roundedRectangle);\n          }\n        }\n      }\n    \n    return roundedRectangle;\n}\n// Create \"75% User\" Rounded Rectangle\nconst roundedRect = createRoundedRectangleWithText({\n    width: 2,\n    height: 0.6,\n    radius: 0.3,\n    color: \"#7c05b4\", // Red\n    text: \"75% User\",\n    textColor: 0xffffff, // White\n    textSize: 0.28,\n    textPosition: { x: -0.88, y: 0.08, z: 0.5 }, // Position of text relative to the rectangle\n    position: { x: 18, y: -3.1, z: 0.5 }, // Position of rectangle in the scene\n    rotation: { x: 0, y: Math.PI * 0.35, z: 0 }, // Rotation of rectangle\n});\n\nconst greyRoundedRect = createRoundedRectangleWithText({\n    width: 6,\n    height: 1.5,\n    radius: 0.7,\n    color: \"#54c0b7\", // Grey color\n    text: \"25% User\",\n    textColor: 0xffffff, // White\n    textSize: 0.8,\n    textPosition: { x: -2.2, y: -0.3, z: 0.5 },\n    position: { x: -16, y: 4.8, z: 9.5 },\n    rotation: { x: 0, y: Math.PI * 0.35, z: 0 },\n});\n\n\n// Create the base plane\nconst planeGeometry = new THREE.PlaneGeometry(22, 2);\nconst planeMaterial = new THREE.MeshBasicMaterial({ color: \"#004d69\", side: THREE.DoubleSide, transparent: true });\nconst plane = new THREE.Mesh(planeGeometry, planeMaterial);\nplane.rotation.y = Math.PI * 0.4;\nplane.position.y = 7.2;\nscene.add(plane);\n\n// Create a canvas for text\nconst textCanvas = document.createElement('canvas');\ntextCanvas.width = 1024; // Canvas resolution\ntextCanvas.height = 256;\nconst context = textCanvas.getContext('2d');\n\n// Add a white rectangle as the background for the text\ncontext.fillStyle = '#19dcdb'; // Background color\nconst margin = 1; // Margin around the text\nconst rectWidth = textCanvas.width - 2 * margin;\nconst rectHeight = textCanvas.height - 2 * margin;\ncontext.fillRect(margin, margin, rectWidth, rectHeight); // Fill the rectangle\n\n// Add text to the rectangle\ncontext.font = 'bold 120px Sans'; // Font size and style\ncontext.fillStyle = 'black'; // Text color\ncontext.textAlign = 'left';\ncontext.textBaseline = 'middle';\ncontext.fillText('TOTAL USERS', margin + 20, textCanvas.height / 2); // Add text with margin\n\n// Create a texture from the canvas\nconst textTexture = new THREE.CanvasTexture(textCanvas);\n\n// Create a material with the texture\nconst textMaterial = new THREE.MeshBasicMaterial({ map: textTexture, transparent: true });\n\n// Create a new plane to hold the text\nconst textPlaneGeometry = new THREE.PlaneGeometry(8, 1.5); // Adjust size to fit text and leave margins\nconst textPlane = new THREE.Mesh(textPlaneGeometry, textMaterial);\n\n// Position the text plane inside the main plane with margin\ntextPlane.position.set(-6.5, 0, 0.01); // Offset slightly in Z to avoid z-fighting\nplane.add(textPlane); // Attach the text plane to the main plane\n\nconst iconBackgroundMaterial = new THREE.MeshBasicMaterial({ color: \"#19dcdb\", transparent: true, opacity: 1 });\n\n\n// Load icon textures (replace with your actual icon image paths)\nconst iconLoader = new THREE.TextureLoader();\nconst minimizeIcon = iconLoader.load('./minimize-sign.png');\nconst maximizeIcon = iconLoader.load('./maximize.png');\nconst closeIcon = iconLoader.load('./close.png');\n// Create materials for the icons\nconst minimizeMaterial = new THREE.MeshBasicMaterial({ map: minimizeIcon, transparent: true });\nconst maximizeMaterial = new THREE.MeshBasicMaterial({ map: maximizeIcon, transparent: true });\nconst closeMaterial = new THREE.MeshBasicMaterial({ map: closeIcon, transparent: true });\n\n// Create planes for the icons inside the main plane\nconst iconSize = 1.2;\nconst iconBackgroundSize = 1.6; // Adjust size of icons\n\nconst minimizeBackground = new THREE.Mesh(new THREE.PlaneGeometry(iconBackgroundSize, iconBackgroundSize), iconBackgroundMaterial);\nminimizeBackground.position.set(5.75, 0.02, 0.02); // Position behind minimize icon\nplane.add(minimizeBackground);\n\nconst maximizeBackground = new THREE.Mesh(new THREE.PlaneGeometry(iconBackgroundSize, iconBackgroundSize), iconBackgroundMaterial);\nmaximizeBackground.position.set(7.75, 0.02, 0.02); // Position behind maximize icon\nplane.add(maximizeBackground);\n\nconst closeBackground = new THREE.Mesh(new THREE.PlaneGeometry(iconBackgroundSize, iconBackgroundSize), iconBackgroundMaterial);\ncloseBackground.position.set(9.75, 0.02, 0.02); // Position behind close icon\nplane.add(closeBackground);\n\nconst minimizePlane = new THREE.Mesh(new THREE.PlaneGeometry(iconSize, iconSize), minimizeMaterial);\nminimizePlane.position.set(5.75, 0.1, 0.04); // Adjust the position of the minimize icon inside the main plane\nplane.add(minimizePlane);\n\nconst maximizePlane = new THREE.Mesh(new THREE.PlaneGeometry(iconSize, iconSize), maximizeMaterial);\nmaximizePlane.position.set(7.75, 0.1, 0.04); // Position maximize icon\nplane.add(maximizePlane);\n\nconst closePlane = new THREE.Mesh(new THREE.PlaneGeometry(iconSize, iconSize), closeMaterial);\nclosePlane.position.set(9.75, 0.1, 0.04); // Position close icon\nplane.add(closePlane);\n\n\n\n// Load the GLB model for the pie chart segments\nloadGLBModel('./1PieChart.glb', new THREE.Vector3(0, 0, 0), 5);\n\naddCenterText(\"75%\", 0xffffff, new THREE.Vector3(2, -2.25, 1.75)); // Slight offset adjustment\n\nconst bgGeometry = new THREE.PlaneGeometry(40, 25);\nconst bgMaterial = new THREE.MeshBasicMaterial({\n  color: \"#26336B\", // Set the background color (green in this case)\n  side: THREE.DoubleSide,\n  transparent: true, // Enable transparency\n  opacity: 0.3, // Adjust opacity (1.0 is fully opaque, 0 is fully transparent)\n});\nconst bgPlane = new THREE.Mesh(bgGeometry, bgMaterial);\nbgPlane.rotation.y = Math.PI * 0.4;\nbgPlane.position.z = 0.0;\nbgPlane.position.y = -2.0;\nbgPlane.position.x = -6.;\nscene.add(bgPlane);\n\nconst ambientLight = new THREE.AmbientLight(0xffffff, 0.6);\nconst directionalLight = new THREE.DirectionalLight(0xffffff, 1);\ndirectionalLight.position.set(10, 10, 10);\nscene.add(ambientLight, directionalLight);\n\n\n\nconst camera = new THREE.PerspectiveCamera(75, sizes.width/sizes.height)\ncamera.position.set(30.93563109244617, 2.581085025998235, 9.102246280191748);\ncamera.lookAt(0, 0, 0);\nscene.add(camera)\n\nconst controls = new OrbitControls(camera, canvas)\n// // controls.enabled= false\ncontrols.enableDamping = true\ncontrols.enableZoom = false;  // Disable zoom\ncontrols.enablePan = false;   // Disable panning\ncontrols.enableRotate = false; // Disable rotation\n\n\n// Renderer\nconst renderer = new THREE.WebGLRenderer({\n    canvas: canvas,\n    antialias: true\n})\nrenderer.setSize(sizes.width, sizes.height)\n\n// To remove blurry pixel\nrenderer.setPixelRatio(Math.min(window.devicePixelRatio,2))\n\n\nconst clock = new THREE.Clock()\n\nconst tick = ()  => {\n    const elapsedTime = clock.getElapsedTime()\n    //controls.update()\n\n    renderer.render(scene,camera)\n    window.requestAnimationFrame(tick)\n\n\n}\n\ntick()\n\n\n"],"names":["_changeEvent","_startEvent","_endEvent","_ray","Ray","_plane","Plane","_TILT_LIMIT","MathUtils","_v","Vector3","_twoPI","_STATE","_EPS","OrbitControls","Controls","object","domElement","MOUSE","TOUCH","Quaternion","Spherical","Vector2","onPointerMove","onPointerDown","onPointerUp","onContextMenu","onMouseWheel","onKeyDown","onTouchStart","onTouchMove","onMouseDown","onMouseMove","interceptControlDown","interceptControlUp","deltaTime","position","min","max","zoomChanged","prevRadius","newRadius","radiusDelta","mouseBefore","prevZoom","mouseAfter","delta","normalizedDelta","angle","distance","objectMatrix","deltaX","deltaY","element","targetDistance","dollyScale","x","y","rect","dx","dy","w","h","dist","event","needsUpdate","centerX","centerY","i","pointerId","mode","newEvent","mouseAction","GLTFLoader","canvas","sizes","raycaster","THREE.Raycaster","mouse","THREE.Vector2","cursor","camera","renderer","scene","THREE.Scene","loadGLBModel","url","scale","gltf","model","child","THREE.MeshBasicMaterial","onMouseClick","intersects","plane","clickedObject","minimizePlane","maximizePlane","closePlane","error","addCenterText","text","color","FontLoader","font","textGeometry","TextGeometry","textMaterial","THREE.MeshStandardMaterial","textMesh","THREE.Mesh","createCurve","controlPoints","curve","THREE.CubicBezierCurve3","THREE.Vector3","points","geometry","THREE.BufferGeometry","material","THREE.LineBasicMaterial","curveObject","THREE.Line","startPointGeometry","THREE.SphereGeometry","startPointMaterial","startPoint","startPosition","createRoundedRectangleWithText","width","height","radius","textColor","textSize","textPosition","depth","rotation","shape","THREE.Shape","THREE.ExtrudeGeometry","THREE.MeshPhongMaterial","THREE.DoubleSide","roundedRectangle","planeGeometry","THREE.PlaneGeometry","planeMaterial","textCanvas","context","margin","rectWidth","rectHeight","textTexture","THREE.CanvasTexture","textPlaneGeometry","textPlane","iconBackgroundMaterial","iconLoader","THREE.TextureLoader","minimizeIcon","maximizeIcon","closeIcon","minimizeMaterial","maximizeMaterial","closeMaterial","iconSize","iconBackgroundSize","minimizeBackground","maximizeBackground","closeBackground","bgGeometry","bgMaterial","bgPlane","ambientLight","THREE.AmbientLight","directionalLight","THREE.DirectionalLight","THREE.PerspectiveCamera","controls","THREE.WebGLRenderer","clock","THREE.Clock","tick"],"mappings":"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","x_google_ignoreList":[0]}